@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix fim: <https://schema.fim.fitko.net/fields/baukasten/> .
@prefix ff: <https://foerderfunke.org/default#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix schema: <http://schema.org/> .

ff:hasFirstNames a ff:FimDataFieldProperty, ff:DataField ;
    ff:hasFimId fim:F00000154 ;
    ff:hasFimVersion "1.3" ;
    ff:hasFimUrl "https://schema.fim.fitko.net/fields/baukasten/F00000154/1.3" ;
    rdfs:label "Vornamen: Vorname + Mittelnamen" ;
    rdfs:comment "Plural zu Vorname" ;
    ff:similarDatafield foaf:firstName ;
    ff:hasShaclShape ff:FirstNamesShape .
ff:FirstNamesShape a sh:NodeShape ;
    sh:targetClass ff:Citizen ;
    sh:property [
        sh:path ff:hasFirstNames ;
        sh:datatype xsd:string ;
    ] .

ff:hasFamilyName a ff:FimDataFieldProperty, ff:DataField ;
    ff:hasFimId fim:F00000013 ;
    ff:hasFimVersion "1.5" ;
    ff:hasFimUrl "https://schema.fim.fitko.net/fields/baukasten/F00000013/1.5" ;
    rdfs:label "Familienname" ;
    rdfs:comment "Familienname einer natürlichen Person bestehend aus Nachname, Zuname bzw. Familienname." ;
    ff:similarDatafield foaf:lastName ;
    ff:hasShaclShape ff:FamilyNameShape .
ff:FamilyNameShape a sh:NodeShape ;
    sh:targetClass ff:Citizen ;
    sh:property [
          sh:path ff:hasFamilyName ;
          sh:datatype xsd:string ;
      ] .

ff:hasBirthday a ff:FimDataFieldProperty, ff:DataField ;
    ff:hasFimId fim:F03008235 ;
    ff:hasFimVersion "2.0" ;
    ff:hasFimUrl "https://schema.fim.fitko.net/fields/baukasten/F03008235/2.0" ;
    rdfs:label "Geburtsdatum" ;
    rdfs:comment "Dieses Feld beinhaltet das Geburtsdatum, also Tag, Monat und Jahr der Vollendung der Geburt." ;
    ff:similarDatafield foaf:birthday ;
    ff:hasShaclShape ff:BirthdayShape .
ff:BirthdayShape a sh:NodeShape ;
    sh:targetClass ff:Citizen ;
    sh:property [
        sh:path ff:hasBirthday ;
        sh:datatype xsd:date ;
        sh:sparql [
            sh:message "Birthday must not be in the future." ;
            sh:select """
            PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
            PREFIX ff: <https://foerderfunke.org/default#>
            ASK WHERE {
                $this ff:hasBirthday ?date .
                FILTER(?date > NOW())
            }
            """ ;
        ] ;
    ] .

ff:hasGender a ff:FimDataFieldProperty, ff:DataField ;
    ff:hasFimId fim:F60000332 ;
    ff:hasFimVersion "1.3" ;
    ff:hasFimUrl "https://schema.fim.fitko.net/fields/baukasten/F60000332/1.3" ;
    rdfs:label "Geschlecht" ;
    rdfs:comment "Beschreibt das Geschlecht einer Person. Folgende Angaben sind möglich: divers, männlich, weiblich, keine Angabe" ;
    ff:hasShaclShape ff:GenderShape .
ff:GenderShape a sh:NodeShape ;
    sh:targetClass ff:Citizen ;
    sh:property [
        sh:path ff:hasGender ;
        sh:in ("weiblich" "männlich" "divers" "keine Angabe") ;
        rdfs:seeAlso <https://schema.fim.fitko.net/fields/baukasten/F60000332/1.3>
    ] .

ff:hasBirthPlace a ff:FimDataFieldProperty, ff:DataField ;
    ff:hasFimId fim:F00000067 ;
    ff:hasFimVersion "1.3" ;
    ff:hasFimUrl "https://schema.fim.fitko.net/fields/baukasten/F00000067/1.3" ;
    rdfs:label "Geburtsort" ;
    rdfs:comment "Der Ort der Geburt einer natürlichen Person." ;
    ff:hasShaclShape ff:BirthPlaceShape .
ff:BirthPlaceShape a sh:NodeShape ;
    sh:targetClass ff:Citizen ;
    sh:property [
         sh:path ff:hasBirthPlace ;
         sh:datatype xsd:string ;
     ] .

ff:hasResidence a ff:FimDataFieldProperty, ff:DataField ;
    ff:hasFimId fim:F03010085 ;
    ff:hasFimVersion "1.0" ;
    ff:hasFimUrl "https://schema.fim.fitko.net/fields/baukasten/F03010085/1.0" ;
    rdfs:label "Wohnort" ;
    rdfs:comment "Enthält den Namen eines Ortes (Gemeinde, Ortschaft oder Stadt)." ;
    ff:hasShaclShape ff:ResidenceShape .
ff:ResidenceShape a sh:NodeShape ;
    sh:targetClass ff:Citizen ;
    sh:property [
        sh:path ff:hasBirthPlace ;
        sh:datatype xsd:string ;
    ] .

ff:hasMaritalStatus a ff:FimDataFieldProperty, ff:DataField ;
    ff:hasFimId fim:F00000559 ;
    ff:hasFimVersion "1.3" ;
    ff:hasFimUrl "https://schema.fim.fitko.net/fields/baukasten/F00000559/1.3" ;
    rdfs:label "Familienstand" ;
    ff:hasShaclShape ff:MaritalStatusShape .
ff:MaritalStatusShape a sh:NodeShape ;
    sh:targetClass ff:Citizen ;
    sh:property [
        sh:path ff:hasMaritalStatus ;
        sh:in ("LD" "VH" "VW" "GS" "EA" "LP" "LV" "LA" "LE" "NB") ;
        ff:shInAbbrevationsStandFor ("ledig" "verheiratet" "verwitwet" "geschieden" "Ehe aufgehoben" "in eingetragener Lebenspartnerschaft" "durch Tod aufgelöste Lebenspartnerschaft" "aufgehobene Lebenspartnerschaft" "durch Todeserklärung aufgelöste Lebenspartnerschaft" "nicht bekannt") ;
        rdfs:seeAlso <https://www.xrepository.de/details/urn:de:dsmeld:schluesseltabelle:familienstand>
    ] .

ff:needsSocialSupport a ff:DataField ;
    rdfs:label "Sozialbedürftig" ;
    rdfs:comment "This is a shortcut for demo purposes" ;
    ff:hasShaclShape ff:NeedsSocialSupportShape .
ff:NeedsSocialSupportShape a sh:NodeShape ;
    sh:targetClass ff:Citizen ;
    sh:property [
        sh:path ff:needsSocialSupport ;
        sh:datatype xsd:boolean ;
    ] .
